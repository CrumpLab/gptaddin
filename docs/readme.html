<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><!-- Inform modern browsers that this page supports both dark and light color schemes,
  and the page author prefers light. --><meta name="color-scheme" content="dark light"><script>
  // If `prefers-color-scheme` is not supported, fall back to light mode.
  // i.e. In this case, inject the `light` CSS before the others, with
  // no media filter so that it will be downloaded with highest priority.
  if (window.matchMedia("(prefers-color-scheme: dark)").media === "not all") {
    document.documentElement.style.display = "none";
    document.head.insertAdjacentHTML(
      "beforeend",
      "<link id=\"css\" rel=\"stylesheet\" href=\"https://bootswatch.com/5/flatly/bootstrap.css\" onload=\"document.documentElement.style.display = ''\">"
    );
  }
</script><title>gptaddin  • gptaddin</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png"><script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="gptaddin "><meta property="og:image" content="https://crumplab.com/gptaddin/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=G-1ESTW4QSDH"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-1ESTW4QSDH');
</script><!-- Flatly Theme - Light  --><link id="css-light" rel="stylesheet" href="https://bootswatch.com/5/flatly/bootstrap.css" media="(prefers-color-scheme: light), (prefers-color-scheme: no-preference)"><!-- Darkly Theme - Dark --><link id="css-dark" rel="stylesheet" href="https://bootswatch.com/5/darkly/bootstrap.css" media="(prefers-color-scheme: dark)"><!-- preferably CSS --><link rel="stylesheet" href="preferably.css"><link id="css-code-light" rel="stylesheet" href="code-color-scheme-light.css" media="(prefers-color-scheme: light), (prefers-color-scheme: no-preference)"><link id="css-code-dark" rel="stylesheet" href="code-color-scheme-dark.css" media="(prefers-color-scheme: dark)"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">gptaddin</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Unreleased version">0.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-2">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="articles/examples.html">Examples</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/CrumpLab/gptaddin/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>

        
        
        
      </ul></div>

    
  </div>
</nav><div class="container template-title-body">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="logo.png" class="logo" alt=""><h1>gptaddin </h1>
      <small class="dont-index">Source: <a href="https://github.com/CrumpLab/gptaddin/blob/HEAD/Readme.md" class="external-link"><code>Readme.md</code></a></small>
    </div>

<div id="gptaddin-" class="section level1">

<!-- badges: start -->
<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental" class="external-link"><img src="https://img.shields.io/badge/lifecycle-experimental-orange.svg" alt="Lifecycle: experimental"></a> <!-- badges: end --></p>
<p>The purpose of this package is to create RStudio addins for interfacing with the <a href="https://openai.com/" class="external-link">OpenAI API</a> through the <a href="https://github.com/irudnyts/openai" class="external-link">openai R library</a>.</p>
<p>The add-ins are intended to provide writing assistant functions, such as taking selected text in the RStudio editor and having a GPT model return edits.</p>
<p>This is an experimental project undergoing a short spurt of development for my personal use.</p>
<p>I’m not encouraging anyone to install this package, but it could serve as a useful example for other people looking to customize their own writing assistant in RStudio.</p>
<p>I blogged about the process of making and using this package over a few posts:</p>
<p><a href="https://crumplab.com/blog/770_rstudio_gpt/" class="external-link uri">https://crumplab.com/blog/770_rstudio_gpt/</a></p>
<p><a href="https://crumplab.com/blog/668_gpt_adventure/" class="external-link uri">https://crumplab.com/blog/668_gpt_adventure/</a></p>
<p><a href="https://crumplab.com/blog/666_gpt_grammar/" class="external-link uri">https://crumplab.com/blog/666_gpt_grammar/</a></p>
<p>See the example page for some more explanation and ongoing dev notes.</p>
<p><a href="https://crumplab.com/gptaddin/articles/examples.html" class="uri">https://crumplab.com/gptaddin/articles/examples.html</a></p>
<div class="section level3">
<h3 id="usage-notes">Usage notes<a class="anchor" aria-label="anchor" href="#usage-notes"></a></h3>
<p>I don’t currently have plans to make this package ready for a larger audience to install and use without any hassle. There are several privacy concerns to consider when sending data to OpenAI, and the behavior of LLMs can be unstable. In my opinion, interacting with these tools requires a great deal of human supervision. For example, while using the functions in this package myself, I rarely get results that are useful straight away. The reason I’m creating these functions is to personally understand what I am sending and receiving, as well as to have programmatic control over my actions. For these reasons, as I mentioned earlier, I’m not suggesting that anyone should install and use this package.</p>
<p>In case this rough scratchpad of a package is useful for others, here’s a quick rundown.</p>
<p>It is possible to install this package from github, <strong>although, I’m not recommending this option</strong>:</p>
<pre><code><span><span class="co">#install.packages("devtools")</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"CrumpLab/gptaddin"</span><span class="op">)</span></span></code></pre>
<p>I imagine it would be more useful to fork, clone, or otherwise download the repo, install it locally, and then modify it as needed for your use case.</p>
<ol style="list-style-type: decimal"><li>Download the repo to your computer</li>
<li>Open the .Rproj file in Rstudio</li>
<li>Install the package from the build tab.</li>
</ol><p>I’m following the basic skeleton for making R packages using pkgdown. See the <a href="https://r-pkgs.org" class="external-link">R packages book</a> for more info.</p>
<div class="section level4">
<h4 id="addins">Addins<a class="anchor" aria-label="anchor" href="#addins"></a></h4>
<p>Once this package is installed, several addins should become available in Rstudio. See the <a href="https://crumplab.com/gptaddin/articles/examples.html">examples page</a> for some tips on usage.</p>
<p>I wrote these addins to explore convenient ways to use the OpenAI API while using RStudio. They do things like send highlighted text in the RStudio editor to an LLM, and then print results to the console, or to the editor window.</p>
<p><strong>This process only works if you have an account with OpenAI, and you have created an API key</strong>.</p>
<ol style="list-style-type: decimal"><li><p>Create a secret key in openai, copy it and put it somewhere safe. Don’t share it.</p></li>
<li><p>The <code>openai</code> R library looks for an environment variable called <code>OPENAI_API_KEY</code>, which can be set a <a href="https://irudnyts.github.io/openai/" class="external-link">number of ways</a>.</p></li>
</ol><p>My strategy was to add a key-value pair directly to the <code>.Renviron</code> file at the user level.</p>
<pre class="{r}"><code><span><span class="co">#| eval: false</span></span>
<span></span>
<span><span class="co"># open the .Renviron file</span></span>
<span><span class="fu">usethis</span><span class="fu">::</span><span class="fu"><a href="https://usethis.r-lib.org/reference/edit.html" class="external-link">edit_r_environ</a></span><span class="op">(</span><span class="op">)</span></span></code></pre>
<p>Then edit the file to add the new key-value pair, and restart R.</p>
<pre class="{r}"><code><span><span class="co">#| eval: false</span></span>
<span></span>
<span><span class="co"># add new environment variable to above and save</span></span>
<span><span class="va">OPENAI_API_KEY</span><span class="op">=</span><span class="va">XXXXXXXXXXXXX</span></span></code></pre>
<p>After you restart R, you can check if R recognizes the new environment variable:</p>
<pre class="{r}"><code><span><span class="co">#| eval: false</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"OPENAI_API_KEY"</span><span class="op">)</span></span></code></pre>
<p><strong>The functions in this package assume the above, and would need to be modified to handle alternate ways of sending the API key.</strong></p>
</div>
<div class="section level4">
<h4 id="writing-addins">Writing addins<a class="anchor" aria-label="anchor" href="#writing-addins"></a></h4>
<p>Some of the addins in this package may do things you want them to. If not, I suggest writing your own to achieve your desired workflow.</p>
<p>Documentation for writing custom addins is <a href="https://RStudio.github.io/RStudioaddins/" class="external-link">here</a>. RStudio addins are available from a dropdown menu and/or triggered by hot-key macros.</p>
<p>The steps for writing addins are:</p>
<ol style="list-style-type: decimal"><li>Write functions as you normally would do in the R folder. You can see the functions I wrote in <code>R/addins.R</code>
</li>
<li>
<a href="https://rstudio.github.io/rstudioaddins/#registering-addins" class="external-link">Register the functions as addins</a> using a .dcf file placed in <code>inst/rstudio/addins.dcf</code>
</li>
<li>Install the R package from the build tab anytime you make changes</li>
<li>The addins should now be available for use in RStudio</li>
</ol></div>
<div class="section level4">
<h4 id="shiny-app-for-grammar-checking">Shiny app for grammar checking<a class="anchor" aria-label="anchor" href="#shiny-app-for-grammar-checking"></a></h4>
<p>The newest piece to this package is a Shiny App for grammar checking. I’m starting to get decent results with this approach. The functions for the shiny app are in <code>R/grammar_shiny.R</code>.</p>
<pre><code><span><span class="fu">gptaddin</span><span class="fu">::</span><span class="fu"><a href="reference/run_grammar_checker.html">run_grammar_checker</a></span><span class="op">(</span><span class="st">"yourfile.qmd"</span><span class="op">)</span></span></code></pre>
</div>
</div>
<div class="section level3">
<h3 id="other-examples-of-using-gpt-in-rstudio">Other examples of using GPT in RStudio<a class="anchor" aria-label="anchor" href="#other-examples-of-using-gpt-in-rstudio"></a></h3>
<ul><li><a href="https://github.com/MichelNivard/gptstudio" class="external-link">gptstudio</a></li>
</ul></div>
</div>

  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="copyright">
  <p></p><p>Developed by Matthew J. C. Crump.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
  <p class="preferably">Using <a href="https://preferably.amirmasoudabdol.name/?source=footer" class="external-link">preferably</a> template.</p>
</div>

    </footer></div>

  

  

  </body></html>

